(this["webpackJsonpmy-app-heroku"]=this["webpackJsonpmy-app-heroku"]||[]).push([[0],{110:function(e,t){},116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(9),i=a.n(c),l=(a(81),a(30)),s=a(23),m=a(67),u=a(64),d=a(65),p=a.n(d),h=o.a.createContext(),f={general:[{from:"BOT",msg:"Hello there"}]};function g(e,t){var a=t.payload,n=a.from,r=a.msg,o=a.topic;switch(t.type){case"RECIVE_MESSAGE":return Object(u.a)({},e,Object(s.a)({},o,[].concat(Object(m.a)(e[o]),[{from:n,msg:r}])));default:return e}}function E(e){n.emit("chat message",e)}var v=function(e){var t=o.a.useReducer(g,f),a=Object(l.a)(t,2),c=a[0],i=a[1],s=Object(r.useMemo)((function(){return"User"+Math.random(100).toFixed(2)}),[]),m=Object(r.useCallback)((function(e){return i({type:"RECIVE_MESSAGE",payload:e})}),[i]);return Object(r.useEffect)((function(){(n=p()()).on("chat message",m)}),[]),o.a.createElement(h.Provider,{value:{state:c,sendChatAction:E,user:s}},e.children)},b=a(149),x=a(152),w=a(40),y=a(154),k=a(155),O=a(156),j=a(159),C=a(157),N=a(158),S=Object(b.a)((function(e){return{root:Object(s.a)({padding:e.spacing(3,2),margin:"50px"},e.breakpoints.down("sm"),{margin:"0px",padding:"10px",backgroundColor:"lightGray"}),flex:{display:"flex",alignItems:"center",padding:"5px"},topicsWindow:{width:"30%",height:"400px",borderRight:"1px solid gray"},chatWindow:{width:"70%",height:"400px",padding:"20px",overflow:"auto"},chatBox:{backgroundColor:"#dcedc8",width:"85%"},button:{width:"15%"},listItem:{padding:"5px"}}})),B=function(){var e=S(),t=o.a.useContext(h),a=t.state,n=t.sendChatAction,c=t.user,i=Object.keys(a),s=Object(r.useState)(i[0]),m=Object(l.a)(s,2),u=m[0],d=m[1],p=Object(r.useState)(""),f=Object(l.a)(p,2),g=f[0],E=f[1];return o.a.createElement("div",{className:e.root},o.a.createElement(x.a,{elevation:3},o.a.createElement(w.a,{variant:"h2",gutterBottom:!0},"Chat app"),o.a.createElement(w.a,{variant:"h4",gutterBottom:!0},u),o.a.createElement("div",{className:e.flex},o.a.createElement("div",{className:e.topicsWindow},o.a.createElement(y.a,null,i.map((function(e){return o.a.createElement(k.a,{onClick:function(e){return d(e.target.innerText)},key:e,button:!0},o.a.createElement(O.a,{primary:e}))})))),o.a.createElement("div",{className:e.chatWindow},a[u].map((function(t,a){return o.a.createElement("div",{className:e.flex,key:a},o.a.createElement(j.a,{label:t.from}),o.a.createElement("div",null,o.a.createElement(w.a,{variant:"body1",gutterBottom:!0},t.msg)))})))),o.a.createElement("div",{className:e.flex},o.a.createElement(N.a,{label:"Send a chat",className:e.chatBox,value:g,onChange:function(e){return E(e.target.value)}}),o.a.createElement(C.a,{variant:"contained",color:"primary",className:e.button,onClick:function(){n({from:c,msg:g,topic:u}),E("")}},"Send"))))};a(116);var W=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(v,null,o.a.createElement(B,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports=a(117)},81:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.2badbd1a.chunk.js.map